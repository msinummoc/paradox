DVEL_add_development = {
	if = {
		limit = { devastation = 5 }
		add_devastation = -5
	} else = {
		random_list = {
			1 = {
				add_base_tax = 1
				modifier = { factor = 1.1 is_state = yes }
				modifier = { factor = 1.1 owner = { national_focus = adm } }
			}
			1 = {
				add_base_production = 1
				modifier = { factor = 1.1 is_owned_by_trade_company = yes }
				modifier = { factor = 1.1 owner = { national_focus = dip } }
			}
			1 = {
				add_base_manpower = 1
				modifier = { factor = 1.1 is_state = no is_owned_by_trade_company = no }
				modifier = { factor = 1.1 owner = { national_focus = mil } }
			}
		}
		add_next_institution_embracement = 4
		if = {
			limit = {development = 10}
			add_next_institution_embracement = 1
		}
		if = {
			limit = {development = 20}
			add_next_institution_embracement = 1
		}
		if = {
			limit = {development = 30}
			add_next_institution_embracement = 1
		}
		if = {
			limit = {development = 40}
			add_next_institution_embracement = 0.5
		}
		if = {
			limit = {development = 50}
			add_next_institution_embracement = 0.5
		}
		if = {
			limit = { has_global_flag = DVEL_debug_mode_flag }
			REB = {
				change_variable = { which = devAdded value = 1 }
			}
			owner = {
				if = {
					limit = { has_country_flag = DVEL_debug_target_flag }
					change_variable = { which = playerNetDev value = 1 }
				} else_if = {
					limit = {
						is_subject_other_than_tributary_trigger = yes
						overlord = { has_country_flag = DVEL_debug_target_flag }
					}
					overlord = {
						change_variable = { which = subjectNetDev value = 1 }
					}
				}
			}
		}
	}
}

DVEL_remove_development = {
	random_list = {
		1 = { add_base_tax = -3 add_devastation = -1 trigger = { base_tax = 20 } }
		1 = { add_base_production = -3 add_devastation = -1 trigger = { base_production = 20 } }
		1 = { add_base_manpower = -3 add_devastation = -1 trigger = { base_manpower = 20 } }
		1 = { add_base_tax = -2 add_devastation = -1 trigger = { base_tax = 10 } }
		1 = { add_base_production = -2 add_devastation = -1 trigger = { base_production = 10 } }
		1 = { add_base_manpower = -2 add_devastation = -1 trigger = { base_manpower = 10 } }
		1 = { add_base_tax = -1 add_devastation = -1 trigger = { base_tax = 2 } }
		1 = { add_base_production = -1 add_devastation = -1 trigger = { base_production = 2 } }
		1 = { add_base_manpower = -1 add_devastation = -1 trigger = { base_manpower = 2 } }
		4 = {
			#add_devastation = -0.25
			if = {
				limit = { has_global_flag = DVEL_debug_mode_flag }
				REB = {
					change_variable = { which = devRemoved value = -1 }
				}
				owner = {
					if = {
						limit = { has_country_flag = DVEL_debug_target_flag }
						change_variable = { which = playerNetDev value = 1 }
					} else_if = {
						limit = {
							is_subject_other_than_tributary_trigger = yes
							overlord = { has_country_flag = DVEL_debug_target_flag }
						}
						overlord = {
							change_variable = { which = subjectNetDev value = 1 }
						}
					}
				}
			}
		}
		# 1 = {
		# 	set_base_tax = 1
		# 	set_base_production = 1
		# 	set_base_manpower = 1
		# 	# random_neighbor_province = {
		# 	# 	PREV = { change_religion = PREV }
		# 	# 	PREV = { change_culture = PREV }
		# 	# 	DVEL_remove_development = yes
		# 	# }
		# 	if = {
		# 		limit = { has_global_flag = DVEL_debug_mode_flag }
		# 		REB = {
		# 			change_variable = { which = devRemoved value = -1 }
		# 			# change_variable = { which = migrations value = 1 }
		# 		}
		# 		owner = {
		# 			if = {
		# 				limit = { has_country_flag = DVEL_debug_target_flag }
		# 				change_variable = { which = playerNetDev value = 1 }
		# 			} else_if = {
		# 				limit = {
		# 					is_subject_other_than_tributary_trigger = yes
		# 					overlord = { has_country_flag = DVEL_debug_target_flag }
		# 				}
		# 				overlord = {
		# 					change_variable = { which = subjectNetDev value = 1 }
		# 				}
		# 			}
		# 		}
		# 	}
		# 	trigger = {
		# 		NOT = {
		# 			OR = {
		# 				base_tax = 2
		# 				base_production = 2
		# 				base_manpower = 2
		# 			}
		# 		}
		# 	}
		# }
	}
	add_next_institution_embracement = -3
	if = {
		limit = { has_global_flag = DVEL_debug_mode_flag }
		REB = {
			change_variable = { which = devRemoved value = 1 }
		}
		owner = {
			if = {
				limit = { has_country_flag = DVEL_debug_target_flag }
				change_variable = { which = playerNetDev value = -1 }
			} else_if = {
				limit = {
					is_subject_other_than_tributary_trigger = yes
					overlord = { has_country_flag = DVEL_debug_target_flag }
				}
				overlord = {
					change_variable = { which = subjectNetDev value = -1 }
				}
			}
		}
	}
	# add_prosperity = -1
	# add_devastation = -1
	if = {
		limit = { controlled_by = owner }
		add_devastation = -1
	}
}

DVEL_apply_modifiers = {
	if = {
		limit = { has_global_flag = DVEL_no_manual_development_flag }
		if = {
			limit = { NOT = { has_global_flag = DVEL_VN_flag } }
			every_country = {
				limit = {
					NOT = { government_rank = 2 }
					NOT = { has_country_modifier = DVEL_no_manual_dev_1 }
				}
				add_country_modifier = { name = DVEL_no_manual_dev_1 duration = -1 }
				remove_country_modifier = DVEL_no_manual_dev_2
				remove_country_modifier = DVEL_no_manual_dev_3
			}
			every_country = {
				limit = {
					government_rank = 2
					NOT = { government_rank = 3 }
					NOT = { has_country_modifier = DVEL_no_manual_dev_2 }
				}
				remove_country_modifier = DVEL_no_manual_dev_1
				add_country_modifier = { name = DVEL_no_manual_dev_2 duration = -1 }
				remove_country_modifier = DVEL_no_manual_dev_3
			}
			every_country = {
				limit = {
					government_rank = 3
					NOT = { has_country_modifier = DVEL_no_manual_dev_3 }
				}
				remove_country_modifier = DVEL_no_manual_dev_1
				remove_country_modifier = DVEL_no_manual_dev_2
				add_country_modifier = { name = DVEL_no_manual_dev_3 duration = -1 }
			}
		} else = {
			every_country = {
				limit = {
					NOT = { government_rank = 3 }
					NOT = { has_country_modifier = DVEL_no_manual_dev_1 }
				}
				add_country_modifier = { name = DVEL_no_manual_dev_1 duration = -1 }
				remove_country_modifier = DVEL_no_manual_dev_2
				remove_country_modifier = DVEL_no_manual_dev_3
			}
			every_country = {
				limit = {
					government_rank = 3
					NOT = { government_rank = 6 }
					NOT = { has_country_modifier = DVEL_no_manual_dev_2 }
				}
				remove_country_modifier = DVEL_no_manual_dev_1
				add_country_modifier = { name = DVEL_no_manual_dev_2 duration = -1 }
				remove_country_modifier = DVEL_no_manual_dev_3
			}
			every_country = {
				limit = {
					government_rank = 6
					NOT = { has_country_modifier = DVEL_no_manual_dev_3 }
				}
				remove_country_modifier = DVEL_no_manual_dev_1
				remove_country_modifier = DVEL_no_manual_dev_2
				add_country_modifier = { name = DVEL_no_manual_dev_3 duration = -1 }
			}
		}
	} else = {
		every_country = {
			limit = {
				OR = {
					has_country_modifier = DVEL_no_manual_dev_1
					has_country_modifier = DVEL_no_manual_dev_2
					has_country_modifier = DVEL_no_manual_dev_3
				}
			}
			remove_country_modifier = DVEL_no_manual_dev_1
			remove_country_modifier = DVEL_no_manual_dev_2
			remove_country_modifier = DVEL_no_manual_dev_3
		}
	}
}

DVEL_et_age_modifiers = {
	if = {
		limit = {
			OR = {
				current_age = classical_age
				current_age = late_classical_age
			}
		}
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				add_country_modifier = { name = DVEL_classical_age_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_classical_age_modifier
			}
		}
	} else_if = {
		limit = { current_age = age_of_migrations }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_classical_age_modifier
				add_country_modifier = { name = DVEL_age_of_migrations_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_classical_age_modifier
				remove_country_modifier = DVEL_age_of_migrations_modifier
			}
		}
	} else_if = {
		limit = { current_age = dark_age }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_age_of_migrations_modifier
				add_country_modifier = { name = DVEL_dark_age_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_age_of_migrations_modifier
				remove_country_modifier = DVEL_dark_age_modifier
			}
		}
	} else_if = {
		limit = { current_age = feudal_age }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_dark_age_modifier
				add_country_modifier = { name = DVEL_feudal_age_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_dark_age_modifier
				remove_country_modifier = DVEL_feudal_age_modifier
			}
		}
	} else_if = {
		limit = { current_age = high_middle_ages }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_feudal_age_modifier
				add_country_modifier = { name = DVEL_high_middle_ages_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_feudal_age_modifier
				remove_country_modifier = DVEL_high_middle_ages_modifier
			}
		}
	} else_if = {
		limit = { current_age = late_middle_ages }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_high_middle_ages_modifier
				add_country_modifier = { name = DVEL_late_middle_ages_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_high_middle_ages_modifier
				remove_country_modifier = DVEL_late_middle_ages_modifier
			}
		}
	} else_if = {
		limit = { current_age = age_of_discovery }
		every_country = {
			remove_country_modifier = DVEL_late_middle_ages_modifier
		}
	}
}

DVEL_toe_age_modifiers = {
	if = {
		limit = { current_age = medieval_age }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				add_country_modifier = { name = DVEL_medieval_age_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_medieval_age_modifier
			}
		}
	} else_if = {
		limit = { current_age = age_of_discovery }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_medieval_age_modifier
				add_country_modifier = { name = DVEL_discovery_age_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_medieval_age_modifier
				remove_country_modifier = DVEL_discovery_age_modifier
			}
		}
	} else_if = {
		limit = { current_age = age_of_reformation }
		every_country = {
			if = {
				limit = {
					OR = {
						government = monarchy
						government = theocracy
						government = republic
					}
					NOT = {
						OR = {
							primitives = yes
							is_primitive = yes
							is_nomad = yes
							uses_horde_unity = yes
							is_migratory_tribe = yes
							can_migrate = yes
						}
					}
				}
				remove_country_modifier = DVEL_discovery_age_modifier
				add_country_modifier = { name = DVEL_reformation_age_modifier duration = -1 }
			} else = {
				remove_country_modifier = DVEL_discovery_age_modifier
				remove_country_modifier = DVEL_reformation_age_modifier
			}
		}
	} else_if = {
		limit = { current_age = age_of_absolutism }
		every_country = {
			remove_country_modifier = DVEL_reformation_age_modifier
			add_country_modifier = { name = DVEL_absolutism_age_modifier duration = -1 }
		}
	} else_if = {
		limit = { current_age = age_of_revolutions }
		every_country = {
			remove_country_modifier = DVEL_absolutism_age_modifier
			add_country_modifier = { name = DVEL_revolution_age_modifier duration = -1 }
		}
	} else_if = {
		limit = { current_age = age_of_industrialization }
		every_country = {
			remove_country_modifier = DVEL_revolution_age_modifier
		}
	}
}

DVEL_devastation_effect = {
	every_country = {
		limit = { DVEL_is_right_government = yes }
		every_owned_province = {
			limit = {
				is_city = yes
				devastation = 4
			}
			if = {
				limit = {
					has_province_modifier = slaves_raided
					NOT = { has_province_modifier = DVEL_raided }
				}
				add_devastation = -10
				add_permanent_province_modifier = {
					name = DVEL_raided
					duration = 3600
					hidden = yes
				}
			}
			if = {
				limit = {
					devastation = 8
				}
				if = {
					limit = { development = 50 }
					random = { chance = 50 DVEL_remove_development = yes }
				}else_if = {
					limit = { development = 40 }
					random = { chance = 40 DVEL_remove_development = yes }
				}else_if = {
					limit = { development = 30 }
					random = { chance = 30 DVEL_remove_development = yes }
				}else_if = {
					limit = { development = 20 }
					random = { chance = 20 DVEL_remove_development = yes }
				}else_if = {
					limit = { development = 10 }
					random = { chance = 10 DVEL_remove_development = yes }
				}else = {
					random = { chance = 2 DVEL_remove_development = yes }
				}
				#trigger_switch = {
				#	on_trigger = development
				#	50 = { random = { chance = 50 DVEL_remove_development = yes } }
				#	40 = { random = { chance = 40 DVEL_remove_development = yes } }
				#	30 = { random = { chance = 30 DVEL_remove_development = yes } }
				#	20 = { random = { chance = 20 DVEL_remove_development = yes } }
				#	10 = { random = { chance = 10 DVEL_remove_development = yes } }
				#	3 = {random = { chance = 2 DVEL_remove_development = yes } }
				#}
			}
			random = { chance = 20 DVEL_remove_development = yes }
			#trigger_switch = { # devastation effects per 2
			#	on_trigger = devastation
			#	100 = { random = { chance = 50 DVEL_remove_development = yes } }
			#	98 = { random = { chance = 49 DVEL_remove_development = yes } }
			#	96 = { random = { chance = 48 DVEL_remove_development = yes } }
			#	94 = { random = { chance = 47 DVEL_remove_development = yes } }
			#	92 = { random = { chance = 46 DVEL_remove_development = yes } }
			#	90 = { random = { chance = 45 DVEL_remove_development = yes } }
			#	88 = { random = { chance = 44 DVEL_remove_development = yes } }
			#	86 = { random = { chance = 43 DVEL_remove_development = yes } }
			#	84 = { random = { chance = 42 DVEL_remove_development = yes } }
			#	82 = { random = { chance = 41 DVEL_remove_development = yes } }
			#	80 = { random = { chance = 40 DVEL_remove_development = yes } }
			#	78 = { random = { chance = 39 DVEL_remove_development = yes } }
			#	76 = { random = { chance = 38 DVEL_remove_development = yes } }
			#	74 = { random = { chance = 37 DVEL_remove_development = yes } }
			#	72 = { random = {chance = 36 DVEL_remove_development = yes } }
			#	70 = { random = {chance = 35 DVEL_remove_development = yes } }
			#	68 = { random = {chance = 34 DVEL_remove_development = yes } }
			#	66 = { random = {chance = 33 DVEL_remove_development = yes } }
			#	64 = { random = {chance = 32 DVEL_remove_development = yes } }
			#	62 = { random = {chance = 31 DVEL_remove_development = yes } }
			#	60 = { random = {chance = 30 DVEL_remove_development = yes } }
			#	58 = { random = {chance = 29 DVEL_remove_development = yes } }
			#	56 = { random = {chance = 28 DVEL_remove_development = yes } }
			#	54 = { random = {chance = 27 DVEL_remove_development = yes } }
			#	52 = { random = {chance = 26 DVEL_remove_development = yes } }
			#	50 = { random = {chance = 25 DVEL_remove_development = yes } }
			#	48 = { random = {chance = 24 DVEL_remove_development = yes } }
			#	46 = { random = {chance = 23 DVEL_remove_development = yes } }
			#	44 = { random = {chance = 22 DVEL_remove_development = yes } }
			#	42 = { random = {chance = 21 DVEL_remove_development = yes } }
			#	40 = { random = {chance = 20 DVEL_remove_development = yes } }
			#	38 = { random = {chance = 19 DVEL_remove_development = yes } }
			#	36 = { random = {chance = 18 DVEL_remove_development = yes } }
			#	34 = { random = {chance = 17 DVEL_remove_development = yes } }
			#	32 = { random = {chance = 16 DVEL_remove_development = yes } }
			#	30 = { random = {chance = 15 DVEL_remove_development = yes } }
			#	28 = { random = {chance = 14 DVEL_remove_development = yes } }
			#	26 = { random = {chance = 13 DVEL_remove_development = yes } }
			#	24 = { random = {chance = 12 DVEL_remove_development = yes } }
			#	22 = { random = {chance = 11 DVEL_remove_development = yes } }
			#	20 = { random = {chance = 10 DVEL_remove_development = yes } }
			#	18 = { random = {chance = 9 DVEL_remove_development = yes } }
			#	16 = { random = {chance = 8 DVEL_remove_development = yes } }
			#	14 = { random = {chance = 7 DVEL_remove_development = yes } }
			#	12 = { random = {chance = 6 DVEL_remove_development = yes } }
			#	10 = { random = {chance = 5 DVEL_remove_development = yes } }
			#	8 = { random = {chance = 4 DVEL_remove_development = yes } }
			#	6 = { random = {chance = 3 DVEL_remove_development = yes } }
			#	4 = { random = {chance = 2 DVEL_remove_development = yes } }
			#}
			# trigger_switch = { # devastation effects per 4
			# 	on_trigger = devastation
			# 	100 = { random = { chance = 25 DVEL_remove_development = yes } }
			# 	96 = { random = { chance = 24 DVEL_remove_development = yes } }
			# 	92 = { random = { chance = 23 DVEL_remove_development = yes } }
			# 	88 = { random = { chance = 22 DVEL_remove_development = yes } }
			# 	84 = { random = { chance = 21 DVEL_remove_development = yes } }
			# 	80 = { random = { chance = 20 DVEL_remove_development = yes } }
			# 	76 = { random = { chance = 19 DVEL_remove_development = yes } }
			# 	72 = { random = { chance = 18 DVEL_remove_development = yes } }
			# 	68 = { random = { chance = 17 DVEL_remove_development = yes } }
			# 	64 = { random = { chance = 16 DVEL_remove_development = yes } }
			# 	60 = { random = { chance = 15 DVEL_remove_development = yes } }
			# 	56 = { random = { chance = 14 DVEL_remove_development = yes } }
			# 	52 = { random = { chance = 13 DVEL_remove_development = yes } }
			# 	48 = { random = { chance = 12 DVEL_remove_development = yes } }
			# 	44 = { random = { chance = 11 DVEL_remove_development = yes } }
			# 	40 = { random = { chance = 10 DVEL_remove_development = yes } }
			# 	36 = { random = { chance = 9 DVEL_remove_development = yes } }
			# 	32 = { random = { chance = 8 DVEL_remove_development = yes } }
			# 	28 = { random = { chance = 7 DVEL_remove_development = yes } }
			# 	24 = { random = { chance = 6 DVEL_remove_development = yes } }
			# 	20 = { random = { chance = 5 DVEL_remove_development = yes } }
			# 	16 = { random = { chance = 4 DVEL_remove_development = yes } }
			# 	12 = { random = { chance = 3 DVEL_remove_development = yes } }
			# 	8 = { random = { chance = 2 DVEL_remove_development = yes } }
			# 	4 = { random = { chance = 1 DVEL_remove_development = yes } }
			# }
			add_prosperity = -2
		}
	}
}

DVEL_mana_drain = {
	every_country = {
		limit = {
			has_country_flag = DVEL_auto_drain_flag
			OR = {
				adm_power = 950
				dip_power = 950
				mil_power = 950
			}
		}
		if = {
			limit = { adm_power = 950 }
			add_years_of_income = 0.05
			add_adm_power = -50
		}
		if = {
			limit = { dip_power = 950 }
			add_years_of_income = 0.05
			add_dip_power = -50
		}
		if = {
			limit = { mil_power = 950 }
			add_years_of_income = 0.05
			add_mil_power = -50
		}
	}
}

DVEL_country_dev_math = {
	#{ global
		export_to_variable = {
			which = globalDevCost
			value = modifier:development_cost
		}
		export_to_variable = {
			which = cultureDevCost
			value = modifier:development_cost_in_primary_culture
		}
		export_to_variable = {
			which = powerCost
			value = modifier:all_power_cost
		}
		change_variable = {
			which = globalDevCost
			which = powerCost
		}
	#}
	#{ dev cost mod
		export_to_variable = {
			which = globalDevCostMod
			value = modifier:development_cost_modifier
		}
		if = {
			limit = {
				has_global_flag = DVEL_no_manual_development_flag
				NOT = { has_country_modifier = DVEL_player_development_window }
			}
			change_variable = {
				which = globalDevCostMod
				value = -9
			}
		}
		if = {
			limit = { has_global_flag = extended_timeline_mod }
			if = {
				limit = { adm_tech = 96 }
				change_variable = { which = globalDevCostMod value = -0.8 }
			} else_if = {
				limit = { adm_tech = 94 }
				change_variable = { which = globalDevCostMod value = -0.7 }
			} else_if = {
				limit = { adm_tech = 88 }
				change_variable = { which = globalDevCostMod value = -0.6 }
			} else_if = {
				limit = { adm_tech = 82 }
				change_variable = { which = globalDevCostMod value = -0.5 }
			} else_if = {
				limit = { adm_tech = 77 }
				change_variable = { which = globalDevCostMod value = -0.4 }
			} else_if = {
				limit = { adm_tech = 72 }
				change_variable = { which = globalDevCostMod value = -0.3 }
			} else_if = {
				limit = { adm_tech = 68 }
				change_variable = { which = globalDevCostMod value = -0.2 }
			} else_if = {
				limit = { adm_tech = 62 }
				change_variable = { which = globalDevCostMod value = -0.1 }
			}
		} else_if = {
			limit = { has_global_flag = DVEL_AB_flag }
			if = {
				limit = { adm_tech = 33 }
				change_variable = { which = globalDevCostMod value = -0.25 }
			} else_if = {
				limit = { adm_tech = 27 }
				change_variable = { which = globalDevCostMod value = -0.2 }
			} else_if = {
				limit = { adm_tech = 23 }
				change_variable = { which = globalDevCostMod value = -0.15 }
			} else_if = {
				limit = { adm_tech = 17 }
				change_variable = { which = globalDevCostMod value = -0.1 }
			}
		} else_if = {
			limit = { has_global_flag = DVEL_VN_flag }
			if = {
				limit = { adm_tech = 75 }
				change_variable = { which = globalDevCostMod value = -0.35 }
			} else_if = {
				limit = { adm_tech = 70 }
				change_variable = { which = globalDevCostMod value = -0.3 }
			} else_if = {
				limit = { adm_tech = 63 }
				change_variable = { which = globalDevCostMod value = -0.25 }
			} else_if = {
				limit = { adm_tech = 51 }
				change_variable = { which = globalDevCostMod value = -0.2 }
			} else_if = {
				limit = { adm_tech = 27 }
				change_variable = { which = globalDevCostMod value = -0.15 }
			} else_if = {
				limit = { adm_tech = 19 }
				change_variable = { which = globalDevCostMod value = -0.1 }
			} else_if = {
				limit = { adm_tech = 9 }
				change_variable = { which = globalDevCostMod value = -0.05 }
			}
		} else_if = {
			limit = { has_global_flag = DVEL_TOE_flag }
			if = {
				limit = { adm_tech = 32 }
				change_variable = { which = globalDevCostMod value = -0.3 }
			} else_if = {
				limit = { adm_tech = 28 }
				change_variable = { which = globalDevCostMod value = -0.2 }
			} else_if = {
				limit = { adm_tech = 22 }
				change_variable = { which = globalDevCostMod value = -0.1 }
			}
		} else = {
			if = {
				limit = { adm_tech = 27 }
				change_variable = { which = globalDevCostMod value = -0.3 }
			} else_if = {
				limit = { adm_tech = 23 }
				change_variable = { which = globalDevCostMod value = -0.2 }
			} else_if = {
				limit = { adm_tech = 17 }
				change_variable = { which = globalDevCostMod value = -0.1 }
			}
		}
		# if = {
		# 	limit = { has_global_flag = extended_timeline_mod }
		# 	trigger_switch = {
		# 		on_trigger = adm_tech
		# 		96 = { change_variable = { which = globalDevCostMod value = -0.8 } }
		# 		94 = { change_variable = { which = globalDevCostMod value = -0.7 } }
		# 		88 = { change_variable = { which = globalDevCostMod value = -0.6 } }
		# 		82 = { change_variable = { which = globalDevCostMod value = -0.5 } }
		# 		77 = { change_variable = { which = globalDevCostMod value = -0.4 } }
		# 		72 = { change_variable = { which = globalDevCostMod value = -0.3 } }
		# 		68 = { change_variable = { which = globalDevCostMod value = -0.2 } }
		# 		62 = { change_variable = { which = globalDevCostMod value = -0.1 } }
		# 		0 = {  }
		# 	}
		# } else_if = {
		# 	limit = { has_global_flag = DVEL_AB_flag }
		# 	trigger_switch = {
		# 		on_trigger = adm_tech
		# 		33 = { change_variable = { which = globalDevCostMod value = -0.25 } }
		# 		27 = { change_variable = { which = globalDevCostMod value = -0.20 } }
		# 		23 = { change_variable = { which = globalDevCostMod value = -0.15 } }
		# 		17 = { change_variable = { which = globalDevCostMod value = -0.10 } }
		# 		0 = {  }
		# 	}
		# } else_if = {
		# 	limit = { has_global_flag = DVEL_VN_flag }
		# 	trigger_switch = {
		# 		on_trigger = adm_tech
		# 		75 = { change_variable = { which = globalDevCostMod value = -0.35 } }
		# 		70 = { change_variable = { which = globalDevCostMod value = -0.30 } }
		# 		63 = { change_variable = { which = globalDevCostMod value = -0.25 } }
		# 		51 = { change_variable = { which = globalDevCostMod value = -0.20 } }
		# 		27 = { change_variable = { which = globalDevCostMod value = -0.15 } }
		# 		19 = { change_variable = { which = globalDevCostMod value = -0.10 } }
		# 		9 = { change_variable = { which = globalDevCostMod value = -0.05 } }
		# 		0 = {  }
		# 	}
		# } else_if = {
		# 	limit = { has_global_flag = DVEL_TOE_flag }
		# 	trigger_switch = {
		# 		on_trigger = adm_tech
		# 		32 = { change_variable = { which = globalDevCostMod value = -0.3 } }
		# 		28 = { change_variable = { which = globalDevCostMod value = -0.2 } }
		# 		22 = { change_variable = { which = globalDevCostMod value = -0.1 } }
		# 		0 = {  }
		# 	}
		# } else = {
		# 	trigger_switch = {
		# 		on_trigger = adm_tech
		# 		27 = { change_variable = { which = globalDevCostMod value = -0.3 } }
		# 		23 = { change_variable = { which = globalDevCostMod value = -0.2 } }
		# 		17 = { change_variable = { which = globalDevCostMod value = -0.1 } }
		# 		0 = {  }
		# 	}
		# }
	#}
}

DVEL_province_dev_math = {
	set_variable = {
		which = netDevCost
		value = 1
	}
	set_variable = {
		which = netDevCostMod
		value = 1
	}
	#{ global import
		set_variable = {
			which = globalDevCost
			which = owner
		}
		set_variable = {
			which = cultureDevCost
			which = owner
		}
		if = {
			limit = {
				has_owner_culture = yes
			}
			change_variable = {
				which = globalDevCost
				which = cultureDevCost
			}
		}
		change_variable = {
			which = netDevCost
			which = globalDevCost
		}
		set_variable = {
			which = globalDevCostMod
			which = owner
		}
		change_variable = {
			which = netDevCostMod
			which = globalDevCostMod
		}
	#}
	#{ local
		export_to_variable = {
			which = localDevCost
			value = modifier:local_development_cost
		}
		if = {
			limit = { is_capital = yes }
			if = {
				limit = { owner = { total_development = 1000 } }
				change_variable = {
					which = localDevCost
					value = -0.5
				}
			} else = {
				export_to_variable = {
					which = totalDev
					value = total_development
					who = owner
				}
				divide_variable = {
					which = totalDev
					value = -2000
				}
				change_variable = {
					which = localDevCost
					which = totalDev
				}
			}
		}
		export_to_variable = {
			which = localDevCostMod
			value = modifier:local_development_cost_modifier
		}
		DVEL_terrain_doubler = yes
		change_variable = {
			which = netDevCost
			which = localDevCost
		}
		change_variable = {
			which = netDevCostMod
			which = localDevCostMod
		}
	#}
	multiply_variable = {
		which = netDevCost
		which = netDevCostMod
	}
	if = {
		limit = { has_global_flag = DVEL_VN_flag }
		multiply_variable = {
			which = netDevCost
			value = 3
		}
		divide_variable = {
			which = netDevCost
			value = 2
		}
	}
	# log = "----------DVEL----------"
	# log = "localDevCost: [This.localDevCost.GetValue]"
	# log = "globalDevCost: [This.globalDevCost.GetValue]"
	# log = "netDevCostMod: [This.netDevCostMod.GetValue]"
	# log = "netDevCost: [This.netDevCost.GetValue]"
}

#DVEL_selfmade_regional_accelerator = {
#	
#}

DVEL_terrain_doubler = {
	if = { limit = { has_terrain = farmlands } change_variable = { which = localDevCost value = -0.05 }
	} else_if = { limit = { has_terrain = grasslands } change_variable = { which = localDevCost value = 0 }
	} else_if = { limit = { has_terrain = drylands } change_variable = { which = localDevCost value = 0.025 }
	} else_if = { limit = { has_terrain = woods } change_variable = { which = localDevCost value = 0.05 }
	} else_if = { limit = { has_terrain = coastline } change_variable = { which = localDevCost value = 0.1 }
	} else_if = { limit = { has_terrain = savannah } change_variable = { which = localDevCost value = 0.1 }
	} else_if = { limit = { has_terrain = forest } change_variable = { which = localDevCost value = 0.1 }
	} else_if = { limit = { has_terrain = steppe } change_variable = { which = localDevCost value = 0.15 }
	} else_if = { limit = { has_terrain = highlands } change_variable = { which = localDevCost value = 0.1 }
	} else_if = { limit = { has_terrain = hills } change_variable = { which = localDevCost value = 0.1 }
	} else_if = { limit = { has_terrain = marsh } change_variable = { which = localDevCost value = 0.15 }
	} else_if = { limit = { has_terrain = mountain } change_variable = { which = localDevCost value = 0.2 }
	} else_if = { limit = { has_terrain = jungle } change_variable = { which = localDevCost value = 0.2 }
	} else_if = { limit = { has_terrain = coastal_desert } change_variable = { which = localDevCost value = 0.2 }
	} else_if = { limit = { has_terrain = desert } change_variable = { which = localDevCost value = 0.3 }
	} else_if = { limit = { has_terrain = glacier } change_variable = { which = localDevCost value = 0.5 }
	} else_if = { limit = { has_terrain = impassable_mountains } change_variable = { which = localDevCost value = 10 }
	} else_if = { limit = { has_terrain = city_terrain } change_variable = { which = localDevCost value = -0.1 }
	} else_if = { limit = { has_terrain = dwarven_hold } change_variable = { which = localDevCost value = -0.05 }
	} else_if = { limit = { has_terrain = dwarven_hold_surface } change_variable = { which = localDevCost value = -0.05 }
	} else_if = { limit = { has_terrain = bloodgroves } change_variable = { which = localDevCost value = 0.2 }
	} else_if = { limit = { has_terrain = ancient_forest } change_variable = { which = localDevCost value = 0.25 }
	} else_if = { limit = { has_terrain = mushroom_forest_terrain } change_variable = { which = localDevCost value = 0.25 }
	} else_if = { limit = { has_terrain = dwarven_road } change_variable = { which = localDevCost value = 0.3 }
	} else_if = { limit = { has_terrain = cavern } change_variable = { which = localDevCost value = 0.8 }
	} else_if = { limit = { has_terrain = shadow_swamp_terrain } change_variable = { which = localDevCost value = 0.8 }
	} else_if = { limit = { has_terrain = gladeway } change_variable = { which = localDevCost value = 1 }
	} else_if = { limit = { has_terrain = agartha_terrain } change_variable = { which = localDevCost value = -0.2 }
	} else_if = { limit = { has_terrain = urbanistic_terrain } change_variable = { which = localDevCost value = -0.1 }
	} else_if = { limit = { has_terrain = urbanistic_railway } change_variable = { which = localDevCost value = 0 }
	} else_if = { limit = { has_terrain = cave } change_variable = { which = localDevCost value = 0.1 }
	} else_if = { limit = { has_terrain = mushroom_forest } change_variable = { which = localDevCost value = 0.15 }
	} else_if = { limit = { has_terrain = tunnel } change_variable = { which = localDevCost value = 0.45 }
	} else_if = { limit = { has_terrain = urbanistic_port } change_variable = { which = localDevCost value = 3 }
	} else_if = { limit = { has_terrain = nuclear_wasteland } change_variable = { which = localDevCost value = 3.5 }
	}
}

DVEL_country_culture_math = {
	export_to_variable = {
		which = globalCultureCost
		value = modifier:culture_conversion_cost
	}
	export_to_variable = {
		which = globalCultureSpeed
		value = modifier:culture_conversion_time
	}
	divide_variable = {
		which = globalCultureSpeed
		value = 2
	}
	export_to_variable = {
		which = powerCost
		value = modifier:all_power_cost
	}
	change_variable = {
		which = globalCultureCost
		which = powerCost
	}
	change_variable = {
		which = globalCultureCost
		which = globalCultureSpeed
	}
}

DVEL_province_culture_math = {
	set_variable = {
		which = netCultureCost
		value = 0
	}
	#{ global import
		set_variable = {
			which = globalCultureCost
			which = owner
		}
		change_variable = {
			which = netDevCost
			which = globalDevCost
		}
	#}
	#{ local
		export_to_variable = {
			which = localCultureCost
			value = modifier:local_culture_conversion_cost
		}
		if = {
			limit = {
				any_neighbor_province = {
					owned_by = event_target:DVEL_owner_dummy
					DVEL_is_right_culture = yes
				}
			}
			change_variable = {
				which = localCultureCost
				value = -0.25
			}
		}
		change_variable = {
			which = netCultureCost
			which = localCultureCost
		}
	#}
	# log = "----------DVEL----------"
	# log = "localCultureCost: [This.localCultureCost.GetValue]"
	# log = "globalCultureCost: [This.globalCultureCost.GetValue]"
	# log = "netCultureCost: [This.netCultureCost.GetValue]"
}
