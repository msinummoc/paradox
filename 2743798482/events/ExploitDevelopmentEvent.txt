namespace = exploit_development_events

# 存在符合条件的可以烧税的省份时，主动触发事件询问
country_event = {
	id = exploit_development_events.1
	title = exploit_development_events.1.title
    desc = exploit_development_events.1.desc
    picture = BANKRUPTCY_eventPicture 

	mean_time_to_happen = {
		years = 30
	}

	trigger = {
		any_owned_province = {
			province_can_exploit_tax = yes
		}
		NOT = {
			has_country_modifier = AO_remind_exploit_development_timer
		}
		ai = no
	}

	option = {
		name = exploit_development_events.1.cancel
		add_country_modifier = {
			name = AO_remind_exploit_development_timer
			duration = 10950
			hidden = yes
		}
	}

	option = {
		name = exploit_development_events.1.exploit_development

		add_country_modifier = {
			name = AO_remind_exploit_development_timer
			duration = 10950
			hidden = yes
		}
		country_event = {
			id = exploit_development_events.2
		}
	}
}

# 一键烧税
country_event = {
	id = exploit_development_events.2
	title = exploit_development_events.2.title
    desc = exploit_development_events.2.desc
    picture = BANKRUPTCY_eventPicture 

	is_triggered_only = yes
	trigger = {
		any_owned_province = {
			province_can_exploit_tax = yes
		}
		ai = no
	}

	option = {
		name = exploit_development_events.2.cancel
	}
	option = {
		name = exploit_development_events.2.exploit_development_wont_lose_slot
		custom_tooltip = exploit_development_events.2.exploit_development_wont_lose_slot.tooltip
		trigger = {
			any_owned_province = {
				province_can_exploit_tax_wont_lose_slot = yes
			}
		}

		every_owned_province = {
			limit = {
				province_can_exploit_tax_wont_lose_slot = yes
			}
			hidden_effect = {
				AO_exploit_tax_effect = yes
			}
			add_base_tax = -1
			add_province_modifier = {
				name = AO_exploit_development_modifier
				duration = 7300 # 20 years
			}
		}
	}
	option = {
		name = exploit_development_events.2.exploit_development_wont_lose_building
		custom_tooltip = exploit_development_events.2.exploit_development_wont_lose_building.tooltip
		trigger = {
			any_owned_province = {
				province_can_exploit_tax_wont_lose_building = yes
			}
		}

		every_owned_province = {
			limit = {
				province_can_exploit_tax_wont_lose_building = yes
			}
			hidden_effect = {
				AO_exploit_tax_effect = yes
			}
			add_base_tax = -1
			add_province_modifier = {
				name = AO_exploit_development_modifier
				duration = 7300 # 20 years
			}
		}
	}
	option = {
		name = exploit_development_events.2.exploit_development
		custom_tooltip = exploit_development_events.2.exploit_development.tooltip
		trigger = {
			any_owned_province = {
				province_can_exploit_tax = yes
			}
		}

		every_owned_province = {
			limit = {
				province_can_exploit_tax = yes
			}
			hidden_effect = {
				AO_exploit_tax_effect = yes
			}
			add_base_tax = -1
			add_province_modifier = {
				name = AO_exploit_development_modifier
				duration = 7300 # 20 years
			}
		}
	}
	
}